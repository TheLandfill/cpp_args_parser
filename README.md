# cpp_args_parser
This repository consists of a library designed to make parsing command line arguments for c++ easy and efficient and a simple program showing you how it works. While there exist similar libraries such as [GetOpt](https://www.gnu.org/software/libc/manual/html_node/Getopt.html), [commandline](https://archive.codeplex.com/?p=commandline), [CLI11](https://github.com/CLIUtils/CLI11), and [opt](http://www.decompile.com/not_invented_here/opt/), these libraries are either designed with different goals in mind, do far too much for most cases, use weird or complicated syntax, or just outright suck to use. This repository intends to make command line parsing as simple and easy as possible for the user.

Currently, this library is in the beta stage. While it is stable, there are a few improvements that could be made. I'll list these improvements in the section "Goals."

While the source code itself is standard c++11, both Makefiles use the GNU/Linux tools make and g++ and the test program uses Linux symlinks, which may be invalid on Windows systems.

## Getting Started

As it currently stands, this repository will not work on Windows systems as it relies on GNU/Linux tools to compile.

### Prerequisites
The library requires nothing but c++11, but the test program itself needs the library to be compiled first. The test program already has symlinks to the required library and header file.

To use this library in other projects, it must first be compiled (it comes with its own Makefile which uses g++) and linked to the program that wants to use it, then you can include the header file "parser.h" and use all the necessary functionality.

### Install For Linux/Mac
#### Make the Library
1. Download the source code.
1. Move to the directory cpp_command_line_parser/bin/
1. Type "make".
#### Make the Test
1. Make the library first.
1. Move to the directory test_cpp_command_line_parser/bin/
1. Type "make".

### How to Use
1. Link the library in the project settings or in the Makefile
1. Include the header file "parser.h" in the main part of your program.
1. Create a new scope (this is just so the local variables you need to create disappear).
1. Inside that scope, create a `Command_Line_Var<T>` with the syntax.
1. Once you've created all the `Command_Line_Var`s, run the function `hash(argc, argv);`.
1. All the variables will be set after hash finishes.

### Example Usage
```
#include "parser.h"

int main(int argc, char ** argv){
  std::string filename = "";
  int recursion_level = 0;
  std::string show_output = "";

  {
    // Both filename and recursion_level take args, so their third argument is true
    Command_Line_Var<std::string> filename_var(&filename, { "f", "filename", "file" }, true);
    Command_Line_Var<int> recursion_level_var(&recursion_level, { "r", "recursion", "max_depth" }, true);
    // show_output doesn't take arguments, so its third argument is false
    // show_output also has mutually exclusive options, so having --show_output --no_out in the args will
    // set show_output to no_out
    Command_Line_Vat<std::string> show_output_var(&show_output, { "show_output", "s", "no_out", "half_out" }, false);
    hash(argc, argv);
  }
  
  // Other code. At this point, filename, recursion_level, and show_output are set.
}
```

## License
This project is licensed under the MIT License - see the LICENSE.md file for details

## Goals
1. Make Windows specific compilation.
1. Verify that this code runs on Mac.
1. Add autogenerated help.
1. Refine README
1. Run more tests, specifically trying to simulate command line response in standard Linux tools.
